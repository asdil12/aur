# Maintainer: Dominik Heidler <dheidler@gmail.com>

pkgname=gqrx
pkgver=2.1.251
pkgrel=2
pkgdesc="SDR receiver for Funcube Dongle, RTL-SDR, USRP and OsmoSDR devices"
arch=('i686' 'x86_64')
url="http://www.oz9aec.net/index.php/gnu-radio/gqrx-sdr"
license=('GPL')
depends=('qt4>=4.6' 'boost-libs' 'fftw' 'libusb' 'gsl' 'alsa-lib' 'libpulse' 'libuhd' 'pulseaudio' 'gnuradio' 'gr-osmosdr-git')
makedepends=('make' 'boost')
install='gqrx.install'
source=("http://downloads.sourceforge.net/${pkgname}/${pkgname}-${pkgver}-src.tar.xz" "21-fcd.rules" "${pkgname}.png" "${pkgname}.desktop")

build() {
	cd "$srcdir/$pkgname-$pkgver-src"
	qmake-qt4
	make
}

package() {
	install -m755 -d $pkgdir/etc/udev/rules.d
	install -m755 -d $pkgdir/usr/{bin,share/applications,share/pixmaps}

	cd $srcdir
	
	install -D -m644 21-fcd.rules $pkgdir/etc/udev/rules.d
	install -D -m644 $pkgname.desktop $pkgdir/usr/share/applications
	install -D -m644 $pkgname.png $pkgdir/usr/share/pixmaps

	cd "$pkgname-$pkgver-src"

	install -D -m755 $pkgname $pkgdir/usr/bin
}

md5sums=('8ff546d6656d631dfbc8e2570fae146b'
         '2be3bf7cba02e90cbbb9d5f6cfdaf68b'
         'f7032a8883c89bd80e0d0fd36f861c59'
         '810f89195231c18f32af92522aade721')
